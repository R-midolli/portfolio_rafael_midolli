<!doctype html>
<html lang="fr" data-theme="dark" data-lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Retail BA Diagnostic ‚Äî Case Study</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,800;1,700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
  /* ===== RESET & ROOT ===== */
  *{box-sizing:border-box;margin:0;padding:0}
  :root{
    --bg:#0e1117;
    --surface:rgba(255,255,255,.06);
    --surface-hover:rgba(255,255,255,.10);
    --text:#f0f2f7;
    --text-muted:#7a8494;
    --accent:#5b8cff;
    --accent-2:#8b5cf6;
    --accent-glow:rgba(91,140,255,.25);
    --border:rgba(255,255,255,.08);
    --radius:20px;
    --font-head:'Playfair Display',Georgia,serif;
    --font-body:'DM Sans',system-ui,sans-serif;
  }
  :root[data-theme="light"]{
    --bg:#f6f7fb;
    --surface:rgba(255,255,255,.7);
    --surface-hover:rgba(255,255,255,.92);
    --text:#0e1320;
    --text-muted:rgba(14,19,32,.70);
    --grid:rgba(14,19,32,.06);
    --border:rgba(14,19,32,.10);
    --accent:#4f7cff;
    --accent-2:#7b5cff;
    --accent-glow:rgba(91,140,255,.25);
  }

  /* In light mode, give the navigation bar a light background for better contrast */
  :root[data-theme="light"] .nav{
    background:rgba(246,247,251,.9);
    border-bottom:1px solid var(--border);
  }
  /* Language visibility */
  [data-lang="fr"] .lang-en{display:none;}
  [data-lang="en"] .lang-fr{display:none;}
  html{-webkit-font-smoothing:antialiased;scroll-behavior:smooth;}
  body{
    font-family:var(--font-body);
    background:var(--bg);
    color:var(--text);
    line-height:1.6;
    min-height:100vh;
    overflow-x:hidden;
  }
  a{color:inherit;text-decoration:none}
  button{font-family:inherit;cursor:pointer;border:none;background:none}
  /* Background visuals */
  .bg-mesh, .bg-grid{
    position:fixed;inset:0;z-index:0;pointer-events:none;
  }
  .bg-mesh{
    background:
      radial-gradient(ellipse 70% 50% at 20% 20%, rgba(91,140,255,.12) 0%, transparent 70%),
      radial-gradient(ellipse 50% 60% at 80% 70%, rgba(139,92,246,.10) 0%, transparent 70%),
      radial-gradient(ellipse 40% 40% at 60% 10%, rgba(91,140,255,.06) 0%, transparent 60%);
  }
  .bg-grid{
    opacity:.035;
    background-image:
      linear-gradient(rgba(255,255,255,1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,1) 1px, transparent 1px);
    background-size:60px 60px;
    mask-image:radial-gradient(ellipse 80% 80% at 50% 50%, black 20%, transparent 80%);
    -webkit-mask-image:radial-gradient(ellipse 80% 80% at 50% 50%, black 20%, transparent 80%);
  }
  /* NAVIGATION */
  .nav{
    position:fixed;top:0;left:0;width:100%;z-index:10;
    display:flex;justify-content:space-between;align-items:center;
    padding:14px 24px;
    background:rgba(14,17,23,.75);
    backdrop-filter:blur(18px);
    -webkit-backdrop-filter:blur(18px);
    border-bottom:1px solid var(--border);
  }
  .nav .logo{
    display:flex;align-items:center;gap:10px;
    font-family:var(--font-head);
    font-weight:800;font-size:1.3rem;color:var(--text);
  }
  .logo-ring{
    width:34px;height:34px;border-radius:50%;
    border:2px solid var(--accent);
    display:flex;align-items:center;justify-content:center;
    font-size:.72rem;font-weight:700;color:var(--accent);
    font-family:var(--font-body);
  }
  .nav-right{display:flex;align-items:center;gap:10px;}
  .btn-back, .btn-fullscreen{
    display:inline-flex;align-items:center;gap:6px;
    padding:8px 14px;
    border-radius:999px;
    border:1px solid var(--border);
    font-size:.84rem;font-weight:600;
    background:var(--surface);
    color:var(--text-muted);
    transition:background .2s, border-color .2s, color .2s;
  }
  .btn-back:hover, .btn-fullscreen:hover{
    background:var(--surface-hover);
    color:var(--text);
    border-color:rgba(255,255,255,.18);
  }
  .btn-fullscreen{
    color:var(--accent);
    border-color:rgba(91,140,255,.3);
    background:rgba(91,140,255,.08);
  }
  .btn-fullscreen:hover{
    background:rgba(91,140,255,.15);
    border-color:var(--accent);
  }
  /* Toggle buttons */
  .theme-toggle, .lang-toggle{
    display:inline-flex;align-items:center;justify-content:center;
    width:42px;height:42px;margin-left:8px;
    border-radius:999px;
    border:1px solid var(--border);
    background:var(--surface);
    color:var(--text);
    transition:transform .15s ease, background .2s ease, border-color .2s ease;
  }
  .theme-toggle:hover, .lang-toggle:hover{
    transform:translateY(-2px);
    background:var(--surface-hover);
    border-color:var(--accent);
  }
  .theme-toggle span, .lang-toggle span{
    font-size:1.25rem;line-height:1;
  }
  /* MAIN LAYOUT */
  .main{max-width:1100px;margin:0 auto;padding:100px 24px 60px;}
  .case-header{margin-bottom:40px;}
  .case-label{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.14em;color:var(--accent);margin-bottom:10px;}
  .case-title{font-family:var(--font-head);font-size:clamp(1.9rem,4vw,2.8rem);font-weight:800;color:var(--text);margin-bottom:12px;}
  .case-subtitle{font-size:1rem;color:var(--text-muted);display:flex;gap:12px;flex-wrap:wrap;}
  .dash-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:999px;border:1px solid rgba(91,140,255,.25);background:rgba(91,140,255,.08);color:var(--accent);font-size:.82rem;font-weight:700;}
  .info-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:20px;margin-bottom:32px;}
  .card{padding:24px;border-radius:var(--radius);border:1px solid var(--border);background:var(--surface);}
  .card h3{font-family:var(--font-head);font-size:1.2rem;font-weight:700;color:var(--text);margin-bottom:14px;}
  .card p{font-size:.95rem;line-height:1.7;color:var(--text-muted);}
  .card p+p{margin-top:8px;}
  .project-tags{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;}
  .project-tag{padding:4px 10px;border-radius:999px;background:rgba(91,140,255,.1);color:var(--accent);font-size:.75rem;font-weight:700;}
  /* Bullets (recommendations) */
  .bullets{display:grid;gap:14px;margin-top:6px;}
  .bullet{display:flex;gap:12px;align-items:flex-start;padding:15px;border-radius:14px;border:1px solid var(--border);background:rgba(255,255,255,.03);cursor:pointer;transition:border-color .2s, background .2s;}
  .bullet:hover{border-color:rgba(91,140,255,.2);background:rgba(255,255,255,.05);}
  .bullet.active{background:rgba(91,140,255,.1);border-color:rgba(91,140,255,.3);}
  .bullet-ico{width:38px;height:38px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(91,140,255,.12),rgba(139,92,246,.12));border:1px solid rgba(91,140,255,.15);font-size:1.25rem;flex-shrink:0;}
  .bullet-content{flex:1;}
  .bullet-content strong{display:block;font-size:.98rem;color:var(--text);margin-bottom:4px;}
  .bullet-details{display:none;font-size:.92rem;color:var(--text-muted);margin-top:4px;line-height:1.6;}
  .bullet.active .bullet-details{display:block;}
  /* Timeline */
  .timeline{display:grid;gap:14px;margin-top:8px;}
  .timeline-item{display:flex;gap:12px;align-items:flex-start;}
  .timeline-marker{width:12px;height:12px;border-radius:50%;background:var(--accent);margin-top:6px;flex-shrink:0;}
  .timeline-content{flex:1;font-size:.95rem;color:var(--text-muted);}
  /* Embed frame */
  .embed-frame{width:100%;height:620px;border:none;border-radius:var(--radius);overflow:hidden;}
  .embed-fallback{margin-top:12px;font-size:.85rem;color:var(--text-muted);text-align:center;}
  .embed-fallback a{color:var(--accent);text-decoration:underline;}
  /* Conclusion */
  .conclusion{margin-top:32px;}
  @media(max-width:760px){
    .info-grid{grid-template-columns:1fr;}
    .nav{padding:12px 20px;}
    .btn-back,.btn-fullscreen{font-size:.8rem;padding:7px 12px;}
    .theme-toggle,.lang-toggle{width:38px;height:38px;}
  }
  @media(max-width:480px){
    .embed-frame{height:480px;}
  }
  </style>
</head>
<body>
  <div class="bg-mesh" aria-hidden="true"></div>
  <div class="bg-grid" aria-hidden="true"></div>
  <!-- NAVIGATION -->
  <nav class="nav">
    <a href="index.html#projects" class="logo">
      <span class="logo-ring">RM</span>
      Rafael Midolli
    </a>
    <div class="nav-right">
      <a href="index.html#projects" class="btn-back">
        <span class="lang-fr">‚Üê Retour</span><span class="lang-en">‚Üê Back</span>
      </a>
      <a href="reports/dashboard_retail.html" target="_blank" rel="noopener" class="btn-fullscreen">
        <span class="lang-fr">‚Üó Plein √©cran</span><span class="lang-en">‚Üó Full&nbsp;screen</span>
      </a>
      <button class="theme-toggle" id="themeToggle" type="button" aria-label="Changer de th√®me" title="Changer de th√®me (clair/sombre)">
        <span id="themeIcon">üåô</span>
      </button>
      <button class="lang-toggle" id="langToggle" type="button" aria-label="Changer de langue" title="Changer de langue (FR/EN)">
        <span id="langIcon">FR</span>
      </button>
    </div>
  </nav>
  <!-- MAIN CONTENT -->
  <main class="main">
    <!-- Case header -->
    <div class="case-header">
      <div class="case-label"><span class="lang-fr">√âtude de cas</span><span class="lang-en">Case study</span></div>
      <h1 class="case-title">Retail BA Diagnostic</h1>
      <div class="case-subtitle">
        <span class="lang-fr">Segmentation de performance &amp; cartographie des opportunit√©s</span>
        <span class="lang-en">Performance segmentation &amp; opportunity mapping</span>
        <span class="dash-badge">üìä Dashboard Plotly</span>
      </div>
    </div>
    <!-- Two-column information grid: Problem/approach and Deliverables -->
    <div class="info-grid">
      <!-- Problem & Approach -->
      <div class="card">
        <h3><span class="lang-fr">Probl√®me</span><span class="lang-en">Problem</span></h3>
        <p>
          <span class="lang-fr">Performance h√©t√©rog√®ne¬†: quelles enseignes contribuent le plus (ou le moins) √† la croissance et o√π concentrer les efforts¬†?</span>
          <span class="lang-en">Heterogeneous performance: which stores contribute most (or least) to growth and where to focus efforts?</span>
        </p>
        <h3 style="margin-top:20px;"><span class="lang-fr">Approche</span><span class="lang-en">Approach</span></h3>
        <p>
          <span class="lang-fr">Segmentation <em>trafic vs ventes</em>¬†‚Üí identification des segments Leaders, Standard et Alerte. Benchmark vs potentiel pour quantifier le gap. Analyse Pareto r√©v√©lant un top¬†6 concentrant 83¬†% de l'opportunit√©, et plan d'action.</span>
          <span class="lang-en">Traffic vs sales segmentation¬†‚Üí identify Leader, Standard and Alert segments. Benchmark vs potential to quantify the gap. Pareto analysis revealing a top¬†6 concentrating 83% of the opportunity, and an action plan.</span>
        </p>
      </div>
      <!-- Deliverables & Stack -->
      <div class="card">
        <h3><span class="lang-fr">Livrables</span><span class="lang-en">Deliverables</span></h3>
        <p>
          <span class="lang-fr">Segmentation strat√©gique, diagnostic mix, tableau de bord interactif (Plotly) et plan d'action prioris√©.</span>
          <span class="lang-en">Strategic segmentation, mix diagnostic, interactive dashboard (Plotly) and prioritised action plan.</span>
        </p>
        <div class="project-tags">
          <span class="project-tag">SQL</span>
          <span class="project-tag">Python</span>
          <span class="project-tag">Plotly</span>
          <span class="project-tag">Power BI</span>
        </div>
      </div>
    </div>
    <!-- Data & Context -->
    <div class="card">
      <h3><span class="lang-fr">Donn√©es &amp; contexte</span><span class="lang-en">Data &amp; context</span></h3>
      <p>
        <span class="lang-fr">Jeu de donn√©es public (Kaggle, √âquateur¬†2016) contenant pour chaque magasin¬†: trafic (visites), transactions, unit√©s vendues, panier moyen et marge. Les valeurs sont agr√©g√©es par magasin et par semaine. Aucune donn√©e n‚Äôest anonymis√©e car elles sont issues d‚Äôune source publique.</span>
        <span class="lang-en">Public dataset (Kaggle, Ecuador¬†2016) containing for each store: traffic (visits), transactions, units sold, average basket and margin. Values are aggregated by store and by week. No data is anonymised since they come from a public source.</span>
      </p>
    </div>
    <!-- Analyses -->
    <div class="card">
      <h3><span class="lang-fr">Analyses</span><span class="lang-en">Analyses</span></h3>
      <p>
        <span class="lang-fr">Segmentation <strong>trafic vs ventes</strong> pour distinguer les segments Alerte, Standard et Leaders. Calcul de l'<strong>√©cart vs benchmark</strong> pour mesurer le potentiel par magasin. Analyse <strong>Pareto</strong> montrant qu‚Äôun top¬†6 concentre environ 83¬†% des 129¬†M d'unit√©s de l'opportunit√© totale.</span>
        <span class="lang-en">Traffic vs sales segmentation to distinguish Alert, Standard and Leader segments. Calculation of the <strong>gap vs benchmark</strong> to measure potential by store. <strong>Pareto</strong> analysis showing that a top¬†6 concentrates about 83% of the 129¬†M units of the total opportunity.</span>
      </p>
    </div>
    <!-- Dashboard Embed -->
    <div class="card">
      <h3><span class="lang-fr">Dashboard interactif</span><span class="lang-en">Interactive dashboard</span></h3>
      <iframe src="reports/dashboard_retail.html" class="embed-frame" id="dashFrame" loading="lazy"></iframe>
      <div class="embed-fallback" id="dashFallback">
        <span class="lang-fr">Si l'iframe ne charge pas, <a href="reports/dashboard_retail.html" target="_blank" rel="noopener">ouvrez le dashboard dans un nouvel onglet</a>.</span>
        <span class="lang-en">If the iframe doesn‚Äôt load, <a href="reports/dashboard_retail.html" target="_blank" rel="noopener">open the dashboard in a new tab</a>.</span>
      </div>
    </div>
    <!-- Timeline -->
    <div class="card">
      <h3><span class="lang-fr">√âtapes de l'analyse</span><span class="lang-en">Analysis steps</span></h3>
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="lang-fr">Segmentation trafic vs ventes¬†: classer les magasins en segments Leaders, Standard et Alerte.</span>
            <span class="lang-en">Traffic vs sales segmentation: classify stores into Leader, Standard and Alert segments.</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="lang-fr">√âcart vs benchmark¬†: quantifier le potentiel d‚Äôam√©lioration pour chaque magasin.</span>
            <span class="lang-en">Gap vs benchmark: quantify the improvement potential for each store.</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="lang-fr">Pareto ‚Äî Top¬†6¬†: identifier les 6 magasins qui concentrent ~83¬†% du potentiel.</span>
            <span class="lang-en">Pareto ‚Äî Top¬†6: identify the 6 stores that concentrate ~83% of the potential.</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Recommendations -->
    <div class="card">
      <h3><span class="lang-fr">Recommandations</span><span class="lang-en">Recommendations</span></h3>
      <div class="bullets">
        <div class="bullet">
          <div class="bullet-ico">üõí</div>
          <div class="bullet-content">
            <strong><span class="lang-fr">Optimiser l‚Äôassortiment</span><span class="lang-en">Optimize assortment</span></strong>
            <div class="bullet-details">
              <span class="lang-fr">Analyser la rotation des r√©f√©rences, retirer les produits √† faible performance et introduire de nouvelles r√©f√©rences adapt√©es √† la demande locale.</span>
              <span class="lang-en">Analyze item rotation, remove low‚Äëperforming products and introduce new references tailored to local demand.</span>
            </div>
          </div>
        </div>
        <div class="bullet">
          <div class="bullet-ico">üè∑Ô∏è</div>
          <div class="bullet-content">
            <strong><span class="lang-fr">Ajuster prix &amp; promotions</span><span class="lang-en">Adjust price &amp; promotions</span></strong>
            <div class="bullet-details">
              <span class="lang-fr">Aligner les prix sur ceux des leaders, mettre en place des promotions cibl√©es et optimiser le calendrier promotionnel.</span>
              <span class="lang-en">Align prices with leaders, deploy targeted promotions and optimise the promotional calendar.</span>
            </div>
          </div>
        </div>
        <div class="bullet">
          <div class="bullet-ico">üíº</div>
          <div class="bullet-content">
            <strong><span class="lang-fr">Renforcer l‚Äôex√©cution</span><span class="lang-en">Reinforce execution</span></strong>
            <div class="bullet-details">
              <span class="lang-fr">Veiller √† la disponibilit√© en rayon, am√©liorer la visibilit√© et l‚Äôemplacement des produits, et former les √©quipes de vente √† la recommandation.</span>
              <span class="lang-en">Ensure shelf availability, improve product visibility and placement, and train sales teams on cross‚Äëselling.</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Conclusion -->
    <div class="card conclusion">
      <h3><span class="lang-fr">Conclusion</span><span class="lang-en">Conclusion</span></h3>
      <p>
        <span class="lang-fr">Les six magasins M46, M48, M50, M34, M1 et M14 concentrent environ 83¬†% des 129¬†M d‚Äôunit√©s d‚Äôopportunit√©. En priorisant ces points de vente et en activant les bons leviers (assortiment, prix/promo, ex√©cution), on maximise le retour sur investissement et on r√©duit rapidement l‚Äô√©cart avec le benchmark.</span>
        <span class="lang-en">The six stores M46, M48, M50, M34, M1 and M14 concentrate about 83% of the 129¬†M units of opportunity. By prioritizing these points of sale and leveraging the right levers (assortment, pricing/promotions, execution), we maximise the return on investment and quickly reduce the gap with the benchmark.</span>
      </p>
    </div>
  </main>
  <script>
  (function(){
    // --- Theme toggle ---
    const themeBtn = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    if(themeBtn && themeIcon){
      const savedTheme = localStorage.getItem('theme');
      const initialTheme = savedTheme ? savedTheme : 'dark';
      document.documentElement.dataset.theme = initialTheme;
      themeIcon.textContent = initialTheme === 'light' ? '‚òÄÔ∏è' : 'üåô';
      themeBtn.addEventListener('click', () => {
        const next = document.documentElement.dataset.theme === 'light' ? 'dark' : 'light';
        document.documentElement.dataset.theme = next;
        localStorage.setItem('theme', next);
        themeIcon.textContent = next === 'light' ? '‚òÄÔ∏è' : 'üåô';
      });
    }
    // --- Language toggle ---
    const langBtn = document.getElementById('langToggle');
    const langIcon = document.getElementById('langIcon');
    function getLang(){ return document.documentElement.dataset.lang || 'fr'; }
    function setLanguage(lang){
      document.documentElement.dataset.lang = lang;
      document.documentElement.lang = lang;
      localStorage.setItem('lang', lang);
      if(langIcon) langIcon.textContent = lang.toUpperCase();
    }
    if(langBtn && langIcon){
      const savedLang = localStorage.getItem('lang');
      setLanguage(savedLang || 'fr');
      langBtn.addEventListener('click', () => {
        const nextLang = getLang() === 'fr' ? 'en' : 'fr';
        setLanguage(nextLang);
      });
    }
    // --- Toggle bullet details ---
    const bullets = document.querySelectorAll('.bullets .bullet');
    bullets.forEach(b => {
      b.addEventListener('click', () => b.classList.toggle('active'));
    });
    // --- Embed fallback: hide fallback when iframe loads ---
    const frame = document.getElementById('dashFrame');
    const fallback = document.getElementById('dashFallback');
    if(frame){
      frame.addEventListener('load', () => {
        if(fallback) fallback.style.display = 'none';
      }, { once: true });
      // Fallback after 6s in case the iframe does not load
      setTimeout(() => {
        if(!frame.contentDocument || frame.contentDocument.body.childElementCount === 0){
          if(fallback) fallback.style.display = 'block';
        }
      }, 6000);
      // Listen for height messages (optional for responsive embed)
      window.addEventListener('message', (e) => {
        if(e.data && e.data.type === 'rm-iframe-height' && typeof e.data.height === 'number'){
          const h = e.data.height;
          if(h > 200) frame.style.height = h + 'px';
        }
      });
    }
  })();
  </script>
</body>
</html>