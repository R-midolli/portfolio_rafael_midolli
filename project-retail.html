<!doctype html>
<html lang="fr" data-theme="dark" data-lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="Case study ‚Äî Diagnostic Retail BA avec segmentation de performance, analyse Pareto et dashboard interactif Plotly. Python, DuckDB, Pandas. Portfolio Rafael Midolli."/>
  <title>Retail BA Diagnostic ‚Äî Case Study</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,800;1,700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
  /* ===== RESET & ROOT ===== */
  *{box-sizing:border-box;margin:0;padding:0}
  :root{
    --bg:#0e1117;
    --surface:rgba(255,255,255,.06);
    --surface-hover:rgba(255,255,255,.10);
    --text:#f0f2f7;
    --text-muted:#7a8494;
    --accent:#5b8cff;
    --accent-2:#8b5cf6;
    --accent-glow:rgba(91,140,255,.25);
    --border:rgba(255,255,255,.08);
    --radius:20px;
    --font-head:'Playfair Display',Georgia,serif;
    --font-body:'DM Sans',system-ui,sans-serif;
  }
  :root[data-theme="light"]{
    --bg:#f6f7fb;
    --surface:rgba(255,255,255,.7);
    --surface-hover:rgba(255,255,255,.92);
    --text:#0e1320;
    --text-muted:rgba(14,19,32,.70);
    --border:rgba(14,19,32,.10);
    --accent:#4f7cff;
    --accent-2:#7b5cff;
    --accent-glow:rgba(91,140,255,.25);
  }
  :root[data-theme="light"] .nav{
    background:rgba(246,247,251,.9);
    border-bottom:1px solid var(--border);
  }
  [data-lang="fr"] .lang-en{display:none}
  [data-lang="en"] .lang-fr{display:none}
  html{-webkit-font-smoothing:antialiased;scroll-behavior:smooth}
  body{
    font-family:var(--font-body);
    background:var(--bg);
    color:var(--text);
    line-height:1.6;
    min-height:100vh;
    overflow-x:hidden;
  }
  a{color:inherit;text-decoration:none}
  button{font-family:inherit;cursor:pointer;border:none;background:none}

  /* Background visuals */
  .bg-mesh, .bg-grid{
    position:fixed;inset:0;z-index:0;pointer-events:none;
  }
  .bg-mesh{
    background:
      radial-gradient(ellipse 70% 50% at 20% 20%, rgba(91,140,255,.12) 0%, transparent 70%),
      radial-gradient(ellipse 50% 60% at 80% 70%, rgba(139,92,246,.10) 0%, transparent 70%),
      radial-gradient(ellipse 40% 40% at 60% 10%, rgba(91,140,255,.06) 0%, transparent 60%);
  }
  .bg-grid{
    opacity:.035;
    background-image:
      linear-gradient(rgba(255,255,255,1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,1) 1px, transparent 1px);
    background-size:60px 60px;
    mask-image:radial-gradient(ellipse 80% 80% at 50% 50%, black 20%, transparent 80%);
    -webkit-mask-image:radial-gradient(ellipse 80% 80% at 50% 50%, black 20%, transparent 80%);
  }
  :root[data-theme="light"] .bg-grid{
    opacity:.055;
    background-image:
      linear-gradient(rgba(14,19,32,.4) 1px, transparent 1px),
      linear-gradient(90deg, rgba(14,19,32,.4) 1px, transparent 1px);
  }

  /* NAVIGATION */
  .nav{
    position:fixed;top:0;left:0;width:100%;z-index:10;
    display:flex;justify-content:space-between;align-items:center;
    padding:14px 24px;
    background:rgba(14,17,23,.75);
    backdrop-filter:blur(18px);
    -webkit-backdrop-filter:blur(18px);
    border-bottom:1px solid var(--border);
  }
  .nav .logo{
    display:flex;align-items:center;gap:10px;
    font-family:var(--font-head);
    font-weight:800;font-size:1.3rem;color:var(--text);
  }
  .logo-ring{
    width:34px;height:34px;border-radius:50%;
    border:2px solid var(--accent);
    display:flex;align-items:center;justify-content:center;
    font-size:.72rem;font-weight:700;color:var(--accent);
    font-family:var(--font-body);
  }
  .nav-right{display:flex;align-items:center;gap:10px}
  .btn-back, .btn-fullscreen{
    display:inline-flex;align-items:center;gap:6px;
    padding:8px 14px;border-radius:999px;
    border:1px solid var(--border);
    font-size:.84rem;font-weight:600;
    background:var(--surface);
    color:var(--text-muted);
    transition:background .2s, border-color .2s, color .2s;
  }
  .btn-back:hover, .btn-fullscreen:hover{
    background:var(--surface-hover);
    color:var(--text);
    border-color:rgba(255,255,255,.18);
  }
  .btn-fullscreen{
    color:var(--accent);
    border-color:rgba(91,140,255,.3);
    background:rgba(91,140,255,.08);
  }
  .btn-fullscreen:hover{
    background:rgba(91,140,255,.15);
    border-color:var(--accent);
  }

  /* Toggle buttons */
  .theme-toggle, .lang-toggle{
    display:inline-flex;align-items:center;justify-content:center;
    width:42px;height:42px;margin-left:8px;
    border-radius:999px;
    border:1px solid var(--border);
    background:var(--surface);
    color:var(--text);
    transition:transform .15s ease, background .2s ease, border-color .2s ease;
  }
  .theme-toggle:hover, .lang-toggle:hover{
    transform:translateY(-2px);
    background:var(--surface-hover);
    border-color:var(--accent);
  }
  .theme-toggle span, .lang-toggle span{
    font-size:1.25rem;line-height:1;
  }

  /* MAIN LAYOUT */
  .main{max-width:1100px;margin:0 auto;padding:100px 24px 60px}
  .case-header{margin-bottom:40px}
  .case-label{
    font-size:.75rem;font-weight:700;
    text-transform:uppercase;letter-spacing:.14em;
    color:var(--accent);margin-bottom:10px;
  }
  .case-title{
    font-family:var(--font-head);
    font-size:clamp(1.9rem,4vw,2.8rem);
    font-weight:800;color:var(--text);
    margin-bottom:12px;
  }
  .case-subtitle{
    font-size:1rem;color:var(--text-muted);
    display:flex;gap:12px;flex-wrap:wrap;
  }
  
  .info-grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:20px;
    margin-bottom:32px;
  }
  .card{
    padding:24px;
    border-radius:var(--radius);
    border:1px solid var(--border);
    background:var(--surface);
  }
  .card h3{
    font-family:var(--font-head);
    font-size:1.2rem;font-weight:700;
    color:var(--text);margin-bottom:14px;
  }
  .card p{
    font-size:.95rem;line-height:1.7;
    color:var(--text-muted);
  }
  .card p+p{margin-top:8px}

  /* Key metrics mini-cards */
  .metrics-mini{
    display:grid;
    grid-template-columns:repeat(3, 1fr);
    gap:12px;
    margin-top:20px;
  }
  .metric-mini{
    text-align:center;
    padding:16px 10px;
    border-radius:14px;
    background:rgba(91,140,255,.05);
    border:1px solid rgba(91,140,255,.15);
  }
  .metric-value{
    font-family:var(--font-head);
    font-size:1.6rem;font-weight:800;
    background:linear-gradient(135deg,var(--accent),var(--accent-2));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    line-height:1.1;
  }
  .metric-label{
    font-size:.72rem;font-weight:600;
    color:var(--text-muted);
    margin-top:6px;
    text-transform:uppercase;letter-spacing:.04em;
  }

  /* Tech stack tags */
  .tech-stack{
    display:flex;gap:8px;flex-wrap:wrap;
    margin-top:16px;
  }
  .tech-tag{
    padding:6px 12px;
    border-radius:999px;
    background:rgba(91,140,255,.1);
    border:1px solid rgba(91,140,255,.2);
    color:var(--accent);
    font-size:.8rem;font-weight:700;
    display:inline-flex;align-items:center;gap:6px;
  }

  /* GitHub button */
  .btn-github{
    display:inline-flex;align-items:center;gap:10px;
    padding:12px 20px;
    border-radius:var(--radius);
    background:linear-gradient(135deg,var(--accent),var(--accent-2));
    border:none;
    color:#fff;
    font-weight:700;font-size:.92rem;
    transition:all .2s ease;
    text-decoration:none;
    box-shadow:0 8px 24px rgba(91,140,255,.3);
    margin-top:20px;
    width:100%;
    justify-content:center;
  }
  .btn-github:hover{
    transform:translateY(-2px);
    box-shadow:0 12px 32px rgba(91,140,255,.4);
  }
  .github-icon{
    width:20px;height:20px;fill:currentColor;
  }

  /* Bullets (recommendations) */
  .bullets{display:grid;gap:14px;margin-top:6px}
  .bullet{
    display:flex;gap:12px;align-items:flex-start;
    padding:15px;border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.03);
    cursor:pointer;
    transition:border-color .2s, background .2s;
  }
  .bullet:hover{
    border-color:rgba(91,140,255,.2);
    background:rgba(255,255,255,.05);
  }
  .bullet.active{
    background:rgba(91,140,255,.1);
    border-color:rgba(91,140,255,.3);
  }
  .bullet-ico{
    width:38px;height:38px;border-radius:12px;
    display:flex;align-items:center;justify-content:center;
    background:linear-gradient(135deg,rgba(91,140,255,.12),rgba(139,92,246,.12));
    border:1px solid rgba(91,140,255,.15);
    font-size:1.25rem;flex-shrink:0;
  }
  .bullet-content{flex:1}
  .bullet-content strong{
    display:block;font-size:.98rem;
    color:var(--text);margin-bottom:4px;
  }
  .bullet-details{
    display:none;
    font-size:.92rem;color:var(--text-muted);
    margin-top:4px;line-height:1.6;
  }
  .bullet.active .bullet-details{display:block}

  /* Timeline */
  .timeline{display:grid;gap:14px;margin-top:8px}
  .timeline-item{
    display:flex;gap:12px;align-items:flex-start;
  }
  .timeline-marker{
    width:12px;height:12px;border-radius:50%;
    background:var(--accent);
    margin-top:6px;flex-shrink:0;
  }
  .timeline-content{
    flex:1;font-size:.95rem;
    color:var(--text-muted);
  }

  /* Embed frame */
  .embed-frame{
    width:100%;height:620px;
    border:none;border-radius:var(--radius);
    overflow:hidden;
  }
  .embed-fallback{
    margin-top:12px;
    font-size:.85rem;color:var(--text-muted);
    text-align:center;
  }
  .embed-fallback a{
    color:var(--accent);
    text-decoration:underline;
  }

  /* Conclusion */
  .conclusion{margin-top:32px}

  /* ‚îÄ‚îÄ‚îÄ TABLET (‚â§ 760px) ‚îÄ‚îÄ‚îÄ */
  @media(max-width:760px){
    .info-grid{grid-template-columns:1fr}
    .nav{padding:12px 16px}
    .nav .logo{font-size:1.1rem;gap:8px}
    .logo-ring{width:30px;height:30px;font-size:.65rem}
    .btn-back,.btn-fullscreen{font-size:.8rem;padding:7px 12px}
    .theme-toggle,.lang-toggle{width:38px;height:38px}
    .main{padding:90px 20px 50px}
    .case-title{font-size:clamp(1.6rem,5vw,2.2rem)}
    .metrics-mini{grid-template-columns:1fr}
  }

  /* ‚îÄ‚îÄ‚îÄ MOBILE (‚â§ 520px) ‚îÄ‚îÄ‚îÄ */
  @media(max-width:520px){
    .nav{padding:10px 14px;gap:6px}
    .nav .logo{font-size:.95rem;gap:6px}
    .logo-ring{width:28px;height:28px;font-size:.6rem}
    .nav-right{gap:4px}
    .btn-back .back-label{display:none}
    .btn-fullscreen .fs-label{display:none}
    .btn-back,.btn-fullscreen{padding:7px 10px;font-size:.78rem}
    .theme-toggle,.lang-toggle{width:34px;height:34px}
    .main{padding:80px 14px 40px}
    .case-title{font-size:1.5rem}
    .case-subtitle{font-size:.88rem}
    .card{padding:20px 18px}
    .card h3{font-size:1.05rem}
    .embed-frame{height:380px}
    .bullet{padding:14px 12px;gap:10px}
    .bullet-ico{width:34px;height:34px;font-size:1.1rem}
    .bullet-content strong{font-size:.92rem}
    .bullet-details{font-size:.85rem}
    .timeline-item{gap:10px}
    .timeline-marker{width:10px;height:10px;margin-top:5px}
    .timeline-content{font-size:.88rem}
    .conclusion{margin-top:20px}
    .metrics-mini{gap:8px}
    .metric-mini{padding:12px 8px}
    .metric-value{font-size:1.3rem}
  }

  /* ‚îÄ‚îÄ‚îÄ SMALL MOBILE (‚â§ 360px) ‚îÄ‚îÄ‚îÄ */
  @media(max-width:360px){
    .embed-frame{height:320px}
    .card{padding:16px 14px}
    .bullet{padding:12px 10px}
  }
  </style>
</head>
<body>
  <div class="bg-mesh" aria-hidden="true"></div>
  <div class="bg-grid" aria-hidden="true"></div>

  <nav class="nav">
    <a href="index.html#projects" class="logo">
      <span class="logo-ring">RM</span>
      Rafael Midolli
    </a>
    <div class="nav-right">
      <a href="index.html#projects" class="btn-back">
        <span class="lang-fr">‚Üê <span class="back-label">Retour</span></span><span class="lang-en">‚Üê <span class="back-label">Back</span></span>
      </a>
      <a href="reports/dashboard_retail.html" target="_blank" rel="noopener" class="btn-fullscreen">
        <span class="lang-fr">‚Üó <span class="fs-label">Plein √©cran</span></span><span class="lang-en">‚Üó <span class="fs-label">Full&nbsp;screen</span></span>
      </a>
      <button class="theme-toggle" id="themeToggle" type="button" aria-label="Changer de th√®me">
        <span id="themeIcon">üåô</span>
      </button>
      <button class="lang-toggle" id="langToggle" type="button" aria-label="Changer de langue">
        <span id="langIcon">FR</span>
      </button>
    </div>
  </nav>

  <main class="main">
    <div class="case-header">
      <div class="case-label"><span class="lang-fr">√âtude de cas</span><span class="lang-en">Case study</span></div>
      <h1 class="case-title">Retail BA Diagnostic</h1>
      <div class="case-subtitle">
        <span class="lang-fr">Segmentation de performance &amp; cartographie des opportunit√©s</span>
        <span class="lang-en">Performance segmentation &amp; opportunity mapping</span>
      </div>
    </div>

    <div class="info-grid">
      <!-- Problem + Approach -->
      <div class="card">
        <h3><span class="lang-fr">Probl√®me</span><span class="lang-en">Problem</span></h3>
        <p>
          <span class="lang-fr">Dans un r√©seau multi‚Äëmagasins, la performance est h√©t√©rog√®ne. L‚Äôenjeu est de rep√©rer rapidement o√π se situe le plus gros √©cart vs benchmark pour prioriser les actions.</span>
          <span class="lang-en">In a multi‚Äëstore network, performance is heterogeneous. The goal is to quickly locate the largest gap vs benchmark to prioritise actions.</span>
        </p>
        <h3 style="margin-top:20px"><span class="lang-fr">Approche</span><span class="lang-en">Approach</span></h3>
        <p>
          <span class="lang-fr">Construction d‚Äôune couche KPI magasin, puis segmentation <em>trafic vs ventes</em>, benchmark des leaders et calcul d‚Äôun potentiel (√©cart au benchmark en unit√©s). Une analyse Pareto priorise le Top&nbsp;6 (83&nbsp;% de l‚Äôopportunit√©).</span>
          <span class="lang-en">Build a store KPI layer, then traffic vs sales segmentation, leaders benchmark and potential calculation (gap to benchmark in units). A Pareto analysis prioritises the Top&nbsp;6 (83% of the opportunity).</span>
        </p>

        <!-- Key metrics mini-cards -->
        <div class="metrics-mini">
          <div class="metric-mini">
            <div class="metric-value">83%</div>
            <div class="metric-label">
              <span class="lang-fr">Top 6</span>
              <span class="lang-en">Top 6</span>
            </div>
          </div>
          <div class="metric-mini">
            <div class="metric-value">129M</div>
            <div class="metric-label">
              <span class="lang-fr">Unit√©s</span>
              <span class="lang-en">Units</span>
            </div>
          </div>
          <div class="metric-mini">
            <div class="metric-value">3</div>
            <div class="metric-label">
              <span class="lang-fr">Segments</span>
              <span class="lang-en">Segments</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Tech Stack + GitHub -->
      <div class="card">
        <h3><span class="lang-fr">Stack technique</span><span class="lang-en">Tech stack</span></h3>
        <p>
          <span class="lang-fr">Analyse compl√®te en Python&nbsp;: segmentation, diagnostic mix, dashboard interactif et plan d'action prioris√©.</span>
          <span class="lang-en">Full Python analysis: segmentation, mix diagnostic, interactive dashboard and prioritised action plan.</span>
        </p>
        <p>
          <span class="lang-fr">Livrables&nbsp;: table <code>store_kpis</code>, notebook d‚Äôanalyse et dashboard HTML export√©.</span>
          <span class="lang-en">Deliverables: <code>store_kpis</code> table, analysis notebook and exported HTML dashboard.</span>
        </p>
        <div class="tech-stack">
          <span class="tech-tag">üêç Python</span>
          <span class="tech-tag">ü¶Ü DuckDB</span>
          <span class="tech-tag">üì¶ Pandas</span>
          <span class="tech-tag">üìä Plotly</span>
          <span class="tech-tag">üìì Jupyter</span>
        </div>
        <a href="https://github.com/R-midolli/retail-ba-diagnostic" target="_blank" rel="noopener" class="btn-github">
          <svg class="github-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.419-1.305.763-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
          <span class="lang-fr">Code sur GitHub</span>
          <span class="lang-en">View on GitHub</span>
        </a>
      </div>
    </div>

    <div class="card">
      <h3><span class="lang-fr">Donn√©es &amp; contexte</span><span class="lang-en">Data &amp; context</span></h3>
      <p>
        <span class="lang-fr">Cas construit √† partir de la comp√©tition Kaggle <em>Store Sales ‚Äî Time Series Forecasting</em> (Corporaci√≥n Favorita, √âquateur).</span>
        <span class="lang-en">Case built on the Kaggle competition <em>Store Sales ‚Äî Time Series Forecasting</em> (Corporaci√≥n Favorita, Ecuador).</span>
      </p>
      <p>
        <span class="lang-fr">Sources utilis√©es&nbsp;: <code>train.csv</code> (ventes journali√®res par magasin et famille), <code>transactions.csv</code> (transactions journali√®res, proxy d‚Äôactivit√©) et <code>stores.csv</code> (r√©f√©rentiel magasins). Le p√©rim√®tre n‚Äôest pas la pr√©vision&nbsp;: objectif = diagnostic de performance au niveau magasin.</span>
        <span class="lang-en">Sources used: <code>train.csv</code> (daily sales by store and product family), <code>transactions.csv</code> (daily transactions, activity proxy) and <code>stores.csv</code> (store master data). The scope is not forecasting: the goal is store‚Äëlevel performance diagnosis.</span>
      </p>
    </div>

    <div class="card">
      <h3><span class="lang-fr">Dashboard interactif</span><span class="lang-en">Interactive dashboard</span></h3>
      <iframe src="reports/dashboard_retail.html" class="embed-frame" id="dashFrame" loading="lazy"></iframe>
      <div class="embed-fallback" id="dashFallback">
        <span class="lang-fr">Si l'iframe ne charge pas, <a href="reports/dashboard_retail.html" target="_blank" rel="noopener">ouvrez le dashboard dans un nouvel onglet</a>.</span>
        <span class="lang-en">If the iframe doesn't load, <a href="reports/dashboard_retail.html" target="_blank" rel="noopener">open the dashboard in a new tab</a>.</span>
      </div>
    </div>

    <div class="card">
      <h3><span class="lang-fr">√âtapes de l'analyse</span><span class="lang-en">Analysis steps</span></h3>
      <p>
        <span class="lang-fr">Workflow volontairement simple&nbsp;: fiabiliser une couche KPI magasin ‚Üí segmenter le parc ‚Üí mesurer l‚Äô√©cart au benchmark ‚Üí prioriser l‚Äôeffort.</span>
        <span class="lang-en">Deliberately simple workflow: build a reliable store KPI layer ‚Üí segment the network ‚Üí measure the gap to benchmark ‚Üí prioritise effort.</span>
      </p>
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="lang-fr">ETL &amp; couche KPI magasin&nbsp;: agr√©gation ventes + transactions et calcul des indicateurs <code>store_kpis</code>.</span>
            <span class="lang-en">ETL &amp; store KPI layer: aggregate sales + transactions and compute <code>store_kpis</code> indicators.</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="lang-fr">Segmentation trafic vs ventes&nbsp;: classer les magasins en Leaders, Standard et Alerte.</span>
            <span class="lang-en">Traffic vs sales segmentation: classify stores into Leader, Standard and Alert.</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="lang-fr">√âcart vs benchmark&nbsp;: quantifier le potentiel d'am√©lioration pour chaque magasin.</span>
            <span class="lang-en">Gap vs benchmark: quantify the improvement potential for each store.</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="lang-fr">Pareto ‚Äî Top 6&nbsp;: identifier les 6 magasins qui concentrent ~83&nbsp;% du potentiel.</span>
            <span class="lang-en">Pareto ‚Äî Top 6: identify the 6 stores that concentrate ~83% of the potential.</span>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <h3><span class="lang-fr">Recommandations</span><span class="lang-en">Recommendations</span></h3>
      <p>
        <span class="lang-fr">Le diagnostic met en √©vidence les magasins prioritaires et la nature de l‚Äô√©cart (<em>trafic vs ventes</em>). Les leviers ci‚Äëdessous servent de checklist de diagnostic pour convertir le trafic en ventes sur les magasins cibl√©s.</span>
        <span class="lang-en">The diagnostic highlights priority stores and the nature of the gap (<em>traffic vs sales</em>). The levers below act as a diagnostic checklist to convert traffic into sales on the targeted stores.</span>
      </p>
      <div class="bullets">
        <div class="bullet">
          <div class="bullet-ico">üõí</div>
          <div class="bullet-content">
            <strong><span class="lang-fr">Optimiser l'assortiment</span><span class="lang-en">Optimize assortment</span></strong>
            <div class="bullet-details">
              <span class="lang-fr">Comparer le mix (familles/cat√©gories) des magasins en √©cart vs les leaders et identifier les contributions sous‚Äëperformantes √† approfondir.</span>
              <span class="lang-en">Compare the mix (families/categories) of gap stores vs leaders and identify under‚Äëperforming contributions to investigate.</span>
            </div>
          </div>
        </div>
        <div class="bullet">
          <div class="bullet-ico">üè∑Ô∏è</div>
          <div class="bullet-content">
            <strong><span class="lang-fr">Ajuster prix &amp; promotions</span><span class="lang-en">Adjust price &amp; promotions</span></strong>
            <div class="bullet-details">
              <span class="lang-fr">√Ä compl√©ter avec des donn√©es prix/promo si disponibles&nbsp;: tester des actions cibl√©es sur les magasins en √©cart et suivre l‚Äôeffet via les KPI.</span>
              <span class="lang-en">To be complemented with price/promo data if available: test targeted actions on gap stores and track the impact through KPIs.</span>
            </div>
          </div>
        </div>
        <div class="bullet">
          <div class="bullet-ico">üíº</div>
          <div class="bullet-content">
            <strong><span class="lang-fr">Renforcer l'ex√©cution</span><span class="lang-en">Reinforce execution</span></strong>
            <div class="bullet-details">
              <span class="lang-fr">V√©rifier l‚Äôex√©cution (disponibilit√©, mise en avant) sur les familles motrices et suivre le ratio ventes/transactions (proxy) pour objectiver l‚Äô√©volution.</span>
              <span class="lang-en">Check execution (availability, visibility) on key families and track the sales/transactions ratio (proxy) to monitor changes.</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card conclusion">
      <h3><span class="lang-fr">Conclusion</span><span class="lang-en">Conclusion</span></h3>
      <p>
        <span class="lang-fr">Les six magasins M46, M48, M50, M34, M1 et M14 concentrent environ 83&nbsp;% des 129&nbsp;M d'unit√©s d'opportunit√©. En priorisant ces points de vente et en activant des leviers adapt√©s (assortiment, prix/promo, ex√©cution), on cible l‚Äôessentiel du potentiel identifi√©. Le dashboard permet de naviguer du r√©seau au magasin pour suivre l‚Äô√©cart et piloter la priorisation.</span>
        <span class="lang-en">The six stores M46, M48, M50, M34, M1 and M14 concentrate about 83% of the 129 M units of opportunity. By prioritising these points of sale and activating the right levers (assortment, pricing/promotions, execution), you focus on most of the identified potential. The dashboard lets you drill down from network to store to track the gap and manage prioritisation.</span>
      </p>
    </div>
  </main>

  <script>
  (function(){
    // --- Theme toggle ---
    const themeBtn = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    if(themeBtn && themeIcon){
      const savedTheme = localStorage.getItem('theme');
      const initialTheme = savedTheme || 'dark';
      document.documentElement.dataset.theme = initialTheme;
      themeIcon.textContent = initialTheme === 'light' ? '‚òÄÔ∏è' : 'üåô';
      themeBtn.addEventListener('click', () => {
        const next = document.documentElement.dataset.theme === 'light' ? 'dark' : 'light';
        document.documentElement.dataset.theme = next;
        localStorage.setItem('theme', next);
        themeIcon.textContent = next === 'light' ? '‚òÄÔ∏è' : 'üåô';
      });
    }

    // --- Language toggle ---
    const langBtn = document.getElementById('langToggle');
    const langIcon = document.getElementById('langIcon');
    function getLang(){ return document.documentElement.dataset.lang || 'fr' }
    function setLanguage(lang){
      document.documentElement.dataset.lang = lang;
      document.documentElement.lang = lang;
      localStorage.setItem('lang', lang);
      if(langIcon) langIcon.textContent = lang.toUpperCase();
    }
    if(langBtn && langIcon){
      setLanguage(localStorage.getItem('lang') || 'fr');
      langBtn.addEventListener('click', () => {
        setLanguage(getLang() === 'fr' ? 'en' : 'fr');
      });
    }

    // --- Toggle bullet details ---
    const bullets = document.querySelectorAll('.bullets .bullet');
    bullets.forEach(b => {
      b.addEventListener('click', () => b.classList.toggle('active'));
    });

    // --- Embed fallback ---
    const frame = document.getElementById('dashFrame');
    const fallback = document.getElementById('dashFallback');
    if(frame){
      frame.addEventListener('load', () => {
        if(fallback) fallback.style.display = 'none';
      }, { once: true });
      
      setTimeout(() => {
        if(!frame.contentDocument || frame.contentDocument.body.childElementCount === 0){
          if(fallback) fallback.style.display = 'block';
        }
      }, 6000);

      window.addEventListener('message', (e) => {
        if(e.data && e.data.type === 'rm-iframe-height' && typeof e.data.height === 'number'){
          const h = e.data.height;
          if(h > 200) frame.style.height = h + 'px';
        }
      });
    }
  })();
  </script>
</body>
</html>
